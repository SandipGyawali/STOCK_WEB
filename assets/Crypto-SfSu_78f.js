import{j as e,L as v,r as d}from"./index-b4B4SIQn.js";import{u as _,a as y,b as f}from"./cryptoApiSlice-2FYy25ys.js";import{v as g}from"./v4-yQnnJER4.js";import{C,a as S}from"./Card-Iv2cPPOO.js";import{S as c,a as L,b as w}from"./CardSkeleton-BDJZDoGs.js";function T({currentPage:a,setCurrentPage:s}){const r=[];for(let t=1;t<=5;t++)r.push(e.jsx("button",{className:a==t?"active pagination-btn":"pagination-btn",onClick:()=>s(t),children:t},g()));return e.jsx("div",{className:"page-btn-wrapper",children:e.jsxs("div",{className:"page-btn",children:[e.jsx("button",{className:"previous-btn",onClick:()=>{s(t=>t-1)},disabled:a==1,children:"Previous"}),r,e.jsx("button",{className:"next-btn",onClick:()=>{s(t=>t+1)},disabled:a==5,children:"Next"})]})})}function F({data:a}){return console.log(a),e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"s.n-head",children:"S.N"}),e.jsx("th",{className:"coin-head",children:"Coin"}),e.jsx("th",{className:"price-head",children:"Price"}),e.jsx("th",{className:"change-head",children:"% change 24hr"}),e.jsx("th",{className:"total-volume-head",children:"Total Volume"}),e.jsx("th",{children:"Market Cap"})]})}),e.jsx("tbody",{children:a?a.map(s=>e.jsxs("tr",{className:"table-data",children:[e.jsx("td",{className:"table-symbol",children:e.jsx("span",{children:s.market_cap_rank})}),e.jsxs("td",{className:"table-name",children:[e.jsx("img",{src:s.image,alt:"coin-img"}),e.jsx("span",{className:"coin-name",children:e.jsx(v,{to:"/market/crypto/single",state:s.id,children:s.name.split(" ")[0]})}),e.jsx("span",{className:"table-name-symbol",children:s.symbol.toUpperCase()})]}),e.jsxs("td",{className:"table-price",children:["$",s.current_price.toLocaleString()]}),e.jsx("td",{className:s.price_change_percentage_24h>0?"table-price-percent-profit":"table-price-percent-loss",children:s.price_change_percentage_24h.toFixed(2)+"%"}),e.jsxs("td",{className:"table-volume",children:["$",s.total_volume.toLocaleString()]}),e.jsxs("td",{className:"table-market_cap",children:["$",s.market_cap.toLocaleString()]})]},g())):""})]})})}const N=50;function E(){const{data:a,isLoading:s,isError:r,error:t}=_();d.useState([]),d.useState(!1);const[m,h]=d.useState(1);let n,l,o;return a&&(n=m*N,l=n-N,o=a.slice(l,n)),e.jsxs("div",{className:"crypto-list",children:[e.jsx(F,{data:o}),e.jsx("div",{className:"pagination-head-container",children:e.jsx(T,{currentPage:m,setCurrentPage:h})})]})}function j({data:a,title:s}){return e.jsxs("div",{className:"trend-wrapper",children:[e.jsx("div",{className:"title",children:s}),e.jsx(C,{data:{coins:a}})]})}const G=Array(12).fill(e.jsxs("div",{className:"list-row",children:[e.jsxs("div",{className:"logo_name",children:[e.jsx(c,{circle:!0,className:"logo"}),e.jsx(c,{className:"name"})]}),e.jsxs("div",{className:"content",children:[e.jsx(c,{className:"content-sk"}),e.jsx(c,{className:"content-sk"}),e.jsx(c,{className:"content-sk"}),e.jsx(c,{className:"content-sk"})]})]}));function M(){return e.jsx("div",{className:"list-card",children:G.map(a=>e.jsxs(e.Fragment,{children:[a,e.jsx("div",{className:"skeleton-line"})]}))})}function $(){return e.jsx("div",{className:"crypto-skeleton-wrapper",children:e.jsxs(L,{baseColor:"#202020",highlightColor:"#444",children:[e.jsxs("div",{className:"list-top",children:[e.jsx(c,{className:"top"}),e.jsx(c,{className:"top"})]}),e.jsx(w,{}),e.jsx(M,{})]})})}function H(){const[a,s]=d.useState(!1),{data:r,isLoading:t,isError:m,error:h}=y(),{data:n,isLoading:l,isError:o}=f();if(t||l)return e.jsx($,{});if(o)return e.jsx("span",{children:h.message});const b=[...r.coins].sort((i,x)=>x.item.data.price_change_percentage_24h.usd-i.item.data.price_change_percentage_24h.usd),k=[...r.coins].sort((i,x)=>i.item.data.price_change_percentage_24h.usd-x.item.data.price_change_percentage_24h.usd),p=n.data.market_cap_change_percentage_24h_usd.toFixed(2)+"%",u=n.data.total_market_cap.usd.toFixed(2);return e.jsxs("div",{className:"crypto-home-container",children:[e.jsxs("div",{className:"content-wrapper",children:[e.jsxs("div",{className:"info-wrapper",children:[e.jsx("div",{className:"main-box market-cap",children:e.jsxs("div",{className:"info-box",children:[e.jsxs("span",{className:"market-cap-value",children:["$",n.data.total_market_cap.usd.toFixed(2)]}),e.jsx("br",{}),e.jsxs("span",{className:"text",children:["Market Cap",e.jsxs("span",{className:p>0?"market-cap-profit":"market-cap-loss",children:[" ",n.data.market_cap_change_percentage_24h_usd.toFixed(2)+"%"]})]})]})}),e.jsx("div",{className:"main-box market-volume",children:e.jsxs("div",{className:"info-box",children:[e.jsxs("span",{className:"market-volume-value",children:["$",n.data.total_volume.usd]}),e.jsx("br",{}),e.jsx("span",{className:"text",children:"24h Trading Volume"})]})})]}),e.jsxs("div",{className:"heading-content",children:[e.jsx("h1",{children:"Cryptocurrency Prices by Market Cap"}),e.jsxs("div",{className:"sub-content",children:[e.jsxs("span",{children:["The global cryptocurrency market cap today is $",u.slice(0,1)+"."+u.slice(1,3)," ","Trillion, a",e.jsx("span",{className:p>0?"market-cap-profit":"market-cap-loss",children:" "+p+" "}),"change in the last 24 hours"," ",e.jsx("button",{className:"show-hide-content",onClick:()=>{s(i=>!i)},children:a?"Hide":"ReadMore"})]}),a?e.jsx("div",{className:"dynamic-content",children:e.jsx("span",{children:"The most well-known cryptocurrency is Bitcoin, created in 2009 by an anonymous person or group using the pseudonym Satoshi Nakamoto. Bitcoin paved the way for the development of thousands of other cryptocurrencies, commonly referred to as altcoins."})}):""]})]})]}),e.jsxs("div",{className:"market-card-content market-hot",children:[e.jsx(j,{data:r.coins,title:"Trending"}),e.jsx(j,{data:b,title:"Top Gainers"}),e.jsx(j,{data:k,title:"Top Losers"})]}),e.jsx(S,{data:r.coins}),e.jsx("div",{className:"crypto-list-wrapper",children:e.jsx(E,{})})]})}export{H as default};
